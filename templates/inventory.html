<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£—á–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .mobile-card {
            margin-bottom: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .mobile-table {
            display: none;
        }
        @media (min-width: 768px) {
            .mobile-cards {
                display: none;
            }
            .mobile-table {
                display: table;
            }
        }
    </style>
</head>
<body class="bg-light">
    <div class="container-fluid p-3">
        <h4 class="text-center mb-3">üì¶ –£—á–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤</h4>

        <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö) -->
        <div class="card mobile-card">
            <div class="card-body p-3">
                <h5 class="card-title">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</h5>
                <form action="/inventory/add" method="POST">
                    <div class="mb-3">
                        <label>–ù–∞–∑–≤–∞–Ω–∏–µ (—Ä—É—Å):</label>
                        <input type="text" name="name" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label>–ù–∞–∑–≤–∞–Ω–∏–µ (–∫–∏—Ç):</label>
                        <input type="text" name="name_chinese" class="form-control">
                    </div>
                    <div class="row g-2 mb-2">
                        <div class="col-6">
                            <input type="number" step="0.01" name="quantity" class="form-control form-control-sm" placeholder="–ö–æ–ª-–≤–æ" required>
                        </div>
                        <div class="col-6">
                            <select name="unit" class="form-select form-select-sm">
                                <option value="—à—Ç">–®—Ç</option>
                                <option value="–∫–æ—Ä–æ–±–∫–∞">–ö–æ—Ä–æ–±–∫–∏</option>
                                <option value="–±—É—Ö—Ç–∞">–ë—É—Ö—Ç—ã</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary btn-sm w-100">–î–æ–±–∞–≤–∏—Ç—å</button>
                </form>
            </div>
        </div>

        <!-- –ú–æ–±–∏–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ (–¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤) -->
        <div class="mobile-cards">
            {% for item in items %}
            <div class="card mobile-card">
                <div class="card-body p-3">
                    <h6 class="card-subtitle mb-1">{{ item.name }}</h6>
                    {% if item.name_chinese %}
                    <small class="text-muted d-block mb-1">{{ item.name_chinese }}</small>
                    {% endif %}
                    <div class="d-flex justify-content-between align-items-center">
                        <span>{{ item.quantity }} {{ item.unit }}</span>
                        <div>
                            <a href="/inventory/edit/{{ item.id }}" class="btn btn-sm btn-outline-warning">‚úèÔ∏è</a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- –¢–∞–±–ª–∏—Ü–∞ (–¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–æ–≤) -->
        <div class="table-responsive mobile-table mt-3">
            <table class="table table-sm table-hover">
                <thead class="table-light">
                    <tr>
                        <th>–ù–∞–∑–≤–∞–Ω–∏–µ (—Ä—É—Å)</th>
                        <th>–ù–∞–∑–≤–∞–Ω–∏–µ (–∫–∏—Ç)</th>
                        <th>–ö–æ–ª-–≤–æ</th>
                        <th>–ï–¥.</th>
                        <th>–û–±–Ω–æ–≤–ª–µ–Ω–æ</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in items %}
                    <tr>
                        <td>{{ item.name }}</td>
                        <td>{{ item.name_chinese if item.name_chinese else '-' }}</td>
                        <td>{{ item.quantity }}</td>
                        <td>{{ item.unit }}</td>
                        <td>{{ item.last_updated.split(' ')[0] }}</td>
                        <td class="text-end">
                            <a href="/inventory/edit/{{ item.id }}" class="btn btn-sm btn-outline-warning">‚úèÔ∏è</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

    <script>
        // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è
        document.querySelectorAll('.delete-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                if(!confirm('–¢–æ—á–Ω–æ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ç–æ–≤–∞—Ä?')) {
                    e.preventDefault();
                }
            });
        });
    </script>
</body>
</html>